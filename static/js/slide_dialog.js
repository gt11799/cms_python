/*!Extend matchMedia.js*/
(function(a){a.matchMedia=(function(){var e=0,c="gmu-media-detect",b=a.fx.transitionEnd,f=a.fx.cssPrefix,d=a("<style></style>").append("."+c+"{"+f+"transition: width 0.001ms; width: 0; position: absolute; clip: rect(1px, 1px, 1px, 1px);}\n").appendTo("head");return function(i){var k=c+e++,j,h=[],g;d.append("@media "+i+" { #"+k+" { width: 1px; } }\n");j=a('<div class="'+c+'" id="'+k+'"></div>').appendTo("body").on(b,function(){g.matches=j.width()===1;a.each(h,function(l,m){a.isFunction(m)&&m.call(g,g)})});g={matches:j.width()===1,media:i,addListener:function(l){h.push(l);return this},removeListener:function(m){var l=h.indexOf(m);~l&&h.splice(l,1);return this}};return g}}())})(Zepto);
/*!Extend event.ortchange.js*/
$(function(){$.mediaQuery={ortchange:"screen and (width: "+window.innerWidth+"px)"};$.matchMedia($.mediaQuery.ortchange).addListener(function(){$(window).trigger("ortchange")})});
/*!Extend highlight.js*/
(function(c){var e=c(document),a,d;function b(){var f=a.attr("hl-cls");clearTimeout(d);a.removeClass(f).removeAttr("hl-cls");a=null;e.off("touchend touchmove touchcancel",b)}c.fn.highlight=function(g,f){return this.each(function(){var h=c(this);h.css("-webkit-tap-highlight-color","rgba(255,255,255,0)").off("touchstart.hl");g&&h.on("touchstart.hl",function(j){var i;a=f?(i=c(j.target).closest(f,this))&&i.length&&i:h;if(a){a.attr("hl-cls",g);d=setTimeout(function(){a.addClass(g)},100);e.on("touchend touchmove touchcancel",b)}})})}})(Zepto);
/*!Extend offset.js*/
(function(c){var b=c.fn.offset,a=Math.round;function d(e){return this.each(function(g){var h=c(this),i=c.isFunction(e)?e.call(this,g,h.offset()):e,f=h.css("position"),j=f==="absolute"||f==="fixed"||h.position();if(f==="relative"){j.top-=parseFloat(h.css("top"))||parseFloat(h.css("bottom"))*-1||0;j.left-=parseFloat(h.css("left"))||parseFloat(h.css("right"))*-1||0}parentOffset=h.offsetParent().offset(),props={top:a(i.top-(j.top||0)-parentOffset.top),left:a(i.left-(j.left||0)-parentOffset.left)};if(f=="static"){props.position="relative"}if(i.using){i.using.call(this,props,g)}else{h.css(props)}})}c.fn.offset=function(e){return e?d.call(this,e):b.call(this)}})(Zepto);
/*!Extend parseTpl.js*/
(function(a,b){a.parseTpl=function(f,e){var c="var __p=[];with(obj||{}){__p.push('"+f.replace(/\\/g,"\\\\").replace(/'/g,"\\'").replace(/<%=([\s\S]+?)%>/g,function(g,h){return"',"+h.replace(/\\'/,"'")+",'"}).replace(/<%([\s\S]+?)%>/g,function(g,h){return"');"+h.replace(/\\'/,"'").replace(/[\r\n\t]/g," ")+"__p.push('"}).replace(/\r/g,"\\r").replace(/\n/g,"\\n").replace(/\t/g,"\\t")+'\');}return __p.join("");',d=new Function("obj",c);return e?d(e):d}})(Zepto);
/*!Extend position.js*/
(function(e,a){var g=e.fn.position,k=Math.round,c=/^(left|center|right)([\+\-]\d+%?)?$/,h=/^(top|center|bottom)([\+\-]\d+%?)?$/,b=/%$/;function i(n,m){return(parseInt(n,10)||0)*(b.test(n)?m/100:1)}function l(p,o,n,m){return[p[0]==="right"?n:p[0]==="center"?n/2:0,p[1]==="bottom"?m:p[1]==="center"?m/2:0,i(o[0],n),i(o[1],m)]}function f(n){var m=n[0],o=m.preventDefault;m=m.touches&&m.touches[0]||m;if(m.nodeType===9||m===window||o){return{width:o?0:n.width(),height:o?0:n.height(),top:m.pageYOffset||m.pageY||0,left:m.pageXOffset||m.pageX||0}}return n.offset()}function j(n){var m=e(n=(n||window)),o=f(m);n=m[0];return{$el:m,width:o.width,height:o.height,scrollLeft:n.pageXOffset||n.scrollLeft,scrollTop:n.pageYOffset||n.scrollTop}}function d(n,m){["my","at"].forEach(function(p){var r=(n[p]||"").split(" "),o=n[p]=["center","center"],q=m[p]=[0,0];r.length===1&&r[h.test(r[0])?"unshift":"push"]("center");c.test(r[0])&&(o[0]=RegExp.$1)&&(q[0]=RegExp.$2);h.test(r[1])&&(o[1]=RegExp.$1)&&(q[1]=RegExp.$2)})}e.fn.position=function(o){if(!o||!o.of){return g.call(this)}o=e.extend({},o);var r=e(o.of),t=o.collision,m=t&&j(o.within),q={},p=f(r),s={left:p.left,top:p.top},n;r[0].preventDefault&&(o.at="left top");d(o,q);n=l(o.at,q.at,p.width,p.height);s.left+=n[0]+n[2];s.top+=n[1]+n[3];return this.each(function(){var u=e(this),v=u.offset(),x=e.extend({},s),w=l(o.my,q.my,v.width,v.height);x.left=k(x.left+w[2]-w[0]);x.top=k(x.top+w[3]-w[1]);t&&t.call(this,x,{of:p,offset:v,my:o.my,at:o.at,within:m,$el:u});x.using=o.using;u.offset(x)})}})(Zepto);
/*!Extend touch.js*/
(function(i){var g={},b,k,h,e=750,a;function c(m){return"tagName" in m?m:m.parentNode}function j(n,m,p,o){var r=Math.abs(n-m),q=Math.abs(p-o);return r>=q?(n-m>0?"Left":"Right"):(p-o>0?"Up":"Down")}function l(){a=null;if(g.last){g.el.trigger("longTap");g={}}}function d(){if(a){clearTimeout(a)}a=null}function f(){if(b){clearTimeout(b)}if(k){clearTimeout(k)}if(h){clearTimeout(h)}if(a){clearTimeout(a)}b=k=h=a=null;g={}}i(document).ready(function(){var m,n;i(document.body).bind("touchstart",function(o){m=Date.now();n=m-(g.last||m);g.el=i(c(o.touches[0].target));b&&clearTimeout(b);g.x1=o.touches[0].pageX;g.y1=o.touches[0].pageY;if(n>0&&n<=250){g.isDoubleTap=true}g.last=m;a=setTimeout(l,e)}).bind("touchmove",function(o){d();g.x2=o.touches[0].pageX;g.y2=o.touches[0].pageY;if(Math.abs(g.x1-g.x2)>10){o.preventDefault()}}).bind("touchend",function(o){d();if((g.x2&&Math.abs(g.x1-g.x2)>30)||(g.y2&&Math.abs(g.y1-g.y2)>30)){h=setTimeout(function(){g.el.trigger("swipe");g.el.trigger("swipe"+(j(g.x1,g.x2,g.y1,g.y2)));g={}},0)}else{if("last" in g){k=setTimeout(function(){var p=i.Event("tap");p.cancelTouch=f;g.el.trigger(p);if(g.isDoubleTap){g.el.trigger("doubleTap");g={}}else{b=setTimeout(function(){b=null;g.el.trigger("singleTap");g={}},250)}},0)}}}).bind("touchcancel",f);i(window).bind("scroll",f)});["swipe","swipeLeft","swipeRight","swipeUp","swipeDown","doubleTap","tap","singleTap","longTap"].forEach(function(n){i.fn[n]=function(m){return this.bind(n,m)}})})(Zepto);
/*!Extend gmu.js*/
var gmu=gmu||{version:"@version",$:window.Zepto,staticCall:(function(c){var b=c.fn,d=[].slice,a=c();a.length=1;return function(f,e){a[0]=f;return b[e].apply(a,d.call(arguments,2))}})(Zepto)};
/*!Extend event.js*/
(function(e,f){var i=[].slice,g=/\s+/,a=function(){return false},d=function(){return true};function k(l,n,m){(l||"").split(g).forEach(function(o){m(o,n)})}function h(l){return new RegExp("(?:^| )"+l.replace(" "," .* ?")+"(?: |$)")}function c(l){var m=(""+l).split(".");return{e:m[0],ns:m.slice(1).sort().join(" ")}}function b(l,m,q,n){var p,o;o=c(m);o.ns&&(p=h(o.ns));return l.filter(function(r){return r&&(!o.e||r.e===o.e)&&(!o.ns||p.test(r.ns))&&(!q||r.cb===q||r.cb._cb===q)&&(!n||r.ctx===n)})}function j(m,l){if(!(this instanceof j)){return new j(m,l)}l&&f.extend(this,l);this.type=m;return this}j.prototype={isDefaultPrevented:a,isPropagationStopped:a,preventDefault:function(){this.isDefaultPrevented=d},stopPropagation:function(){this.isPropagationStopped=d}};e.event={on:function(l,p,m){var n=this,o;if(!p){return this}o=this._events||(this._events=[]);k(l,p,function(q,s){var r=c(q);r.cb=s;r.ctx=m;r.ctx2=m||n;r.id=o.length;o.push(r)});return this},one:function(l,o,m){var n=this;if(!o){return this}k(l,o,function(p,r){var q=function(){n.off(p,q);return r.apply(m||n,arguments)};q._cb=r;n.on(p,q,m)});return this},off:function(l,o,n){var m=this._events;if(!m){return this}if(!l&&!o&&!n){this._events=[];return this}k(l,o,function(p,q){b(m,p,q,n).forEach(function(r){delete m[r.id]})});return this},trigger:function(m){var q=-1,o,p,n,l,r;if(!this._events||!m){return this}typeof m==="string"&&(m=new j(m));o=i.call(arguments,1);m.args=o;o.unshift(m);p=b(this._events,m.type);if(p){l=p.length;while(++q<l){if((n=m.isPropagationStopped())||false===(r=p[q]).cb.apply(r.ctx2,o)){n||(m.stopPropagation(),m.preventDefault());break}}}return this}};e.Event=j})(gmu,gmu.$);
/*!Extend widget.js*/
(function(j,f,h){var m=[].slice,n=Object.prototype.toString,q=function(){},d=["options","template","tpl2html"],e=(function(){var t={},v=0,u="_gid";return function(z,y,A){var w=z[u]||(z[u]=++v),x=t[w]||(t[w]={});A!==h&&(x[y]=A);A===null&&delete x[y];return x[y]}})(),o=j.event;function i(t){return n.call(t)==="[object Object]"}function k(u,t){u&&Object.keys(u).forEach(function(v){t(v,u[v])})}function c(u){try{u=u==="true"?true:u==="false"?false:u==="null"?null:+u+""===u?+u:/(?:\{[\s\S]*\}|\[[\s\S]*\])$/.test(u)?JSON.parse(u):u}catch(t){u=h}return u}function g(x){var v={},u=x&&x.attributes,t=u&&u.length,w,y;while(t--){y=u[t];w=y.name;if(w.substring(0,5)!=="data-"){continue}w=w.substring(5);y=c(y.value);y===h||(v[w]=y)}return v}function l(u){var v=u.substring(0,1).toLowerCase()+u.substring(1),t=f.fn[v];f.fn[v]=function(y){var x=m.call(arguments,1),A=typeof y==="string"&&y,w,z;f.each(this,function(B,C){z=e(C,u)||new j[u](C,i(y)?y:h);if(A==="this"){w=z;return false}else{if(A){if(!f.isFunction(z[A])){throw new Error("\u7ec4\u4ef6\u6ca1\u6709\u6b64\u65b9\u6cd5\uff1a"+A)}w=z[A].apply(z,x);if(w!==h&&w!==z){return false}w=h}}});return w!==h?w:this};f.fn[v].noConflict=function(){f.fn[v]=t;return this}}function a(t,v){var u=this;if(t.superClass){a.call(u,t.superClass,v)}k(e(t,"options"),function(w,x){x.forEach(function(z){var A=z[0],y=z[1];if(A==="*"||(f.isFunction(A)&&A.call(u,v[w]))||A===v[w]){y.call(u)}})})}function s(t,v){var u=this;if(t.superClass){s.call(u,t.superClass,v)}k(e(t,"plugins"),function(w,x){if(v[w]===false){return}k(x,function(y,A){var z;if(f.isFunction(A)&&(z=u[y])){u[y]=function(){var B=u.origin,C;u.origin=z;C=A.apply(u,arguments);B===h?delete u.origin:(u.origin=B);return C}}else{u[y]=A}});x._init.call(u)})}function p(){var t=m.call(arguments),u=t.length,v;while(u--){v=v||t[u];i(t[u])||t.splice(u,1)}return t.length?f.extend.apply(null,[true,{}].concat(t)):v}function b(v,t,w,x,u){var z=this,y;if(i(x)){u=x;x=h}u&&u.el&&(x=f(u.el));x&&(z.$el=f(x),x=z.$el[0]);y=z._options=p(t.options,g(x),u);z.template=p(t.template,y.template);z.tpl2html=p(t.tpl2html,y.tpl2html);z.widgetName=v.toLowerCase();z.eventNs="."+z.widgetName+w;z._init(y);z._options.setup=(z.$el&&z.$el.parent()[0])?true:false;a.call(z,t,y);s.call(z,t,y);z._create();z.trigger("ready");x&&e(x,v,z)&&z.on("destroy",function(){e(x,v,null)});return z}function r(w,v,y){if(typeof y!=="function"){y=j.Base}var x=1,u=1;function t(A,z){if(w==="Base"){throw new Error("Base\u7c7b\u4e0d\u80fd\u76f4\u63a5\u5b9e\u4f8b\u5316")}if(!(this instanceof t)){return new t(A,z)}return b.call(this,w,t,x++,A,z)}f.extend(t,{register:function(A,B){var z=e(t,"plugins")||e(t,"plugins",{});B._init=B._init||q;z[A]=B;return t},option:function(A,B,C){var z=e(t,"options")||e(t,"options",{});z[A]||(z[A]=[]);z[A].push([B,C]);return t},inherits:function(z){return r(w+"Sub"+u++,z,t)},extend:function(B){var A=t.prototype,z=y.prototype;d.forEach(function(C){B[C]=p(y[C],B[C]);B[C]&&(t[C]=B[C]);delete B[C]});k(B,function(C,D){if(typeof D==="function"&&z[C]){A[C]=function(){var F=this.$super,E;this.$super=function(){var G=m.call(arguments,1);return z[C].apply(this,G)};E=D.apply(this,arguments);F===h?(delete this.$super):(this.$super=F);return E}}else{A[C]=D}})}});t.superClass=y;t.prototype=Object.create(y.prototype);t.extend(v);return t}j.define=function(u,t,v){j[u]=r(u,t,v);l(u)};j.isWidget=function(u,t){t=typeof t==="string"?j[t]||q:t;t=t||j.Base;return u instanceof t};j.Base=r("Base",{_init:q,_create:q,getEl:function(){return this.$el},on:o.on,one:o.one,off:o.off,trigger:function(v){var t=typeof v==="string"?new j.Event(v):v,u=[t].concat(m.call(arguments,1)),x=this._options[t.type],w=this.getEl();if(x&&f.isFunction(x)){false===x.apply(this,u)&&(t.stopPropagation(),t.preventDefault())}o.trigger.apply(this,u);w&&w.triggerHandler(t,(u.shift(),u));return this},tpl2html:function(v,u){var t=this.template;t=typeof v==="string"?t[v]:((u=v),t);return u||~t.indexOf("<%")?f.parseTpl(t,u):t},destroy:function(){this.$el&&this.$el.off(this.eventNs);this.trigger("destroy");this.off();this.destroyed=true}},Object);f.ui=j})(gmu,gmu.$);
/*!Widget slider/slider.js*/
(function(d,c,e){var f=c.fx.cssPrefix,a=c.fx.transitionEnd,b=" translateZ(0)";d.define("Slider",{options:{loop:false,speed:400,index:0,selector:{container:".ui-slider-group"}},template:{item:'<div class="ui-slider-item"><a href="<%= href %>"><img src="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>'},_create:function(){var i=this,g=i.getEl(),h=i._options;i.index=h.index;i._initDom(g,h);i._initWidth(g,i.index);i._container.on(a+i.eventNs,c.proxy(i._tansitionEnd,i));c(window).on("ortchange"+i.eventNs,function(){i._initWidth(g,i.index)})},_initDom:function(j,l){var g=l.selector,k=l.viewNum||1,i,h;h=j.find(g.container);if(!h.length){h=c("<div></div>");if(!l.content){if(j.is("ul")){this.$el=h.insertAfter(j);h=j;j=this.$el}else{h.append(j.children())}}else{this._createItems(h,l.content)}h.appendTo(j)}if((i=h.children()).length<k+1){l.loop=false}while(l.loop&&h.children().length<3*k){h.append(i.clone())}this.length=h.children().length;this._items=(this._container=h).addClass("ui-slider-group").children().addClass("ui-slider-item").toArray();this.trigger("done.dom",j.addClass("ui-slider"),l)},_createItems:function(h,j){var k=0,g=j.length;for(;k<g;k++){h.append(this.tpl2html("item",j[k]))}},_initWidth:function(h,g,k){var j=this,i;if(!k&&(i=h.width())===j.width){return}j.width=i;j._arrange(i,g);j.height=h.height();j.trigger("width.change")},_arrange:function(l,j){var h=this._items,k=0,m,g;this._slidePos=new Array(h.length);for(g=h.length;k<g;k++){m=h[k];m.style.cssText+="width:"+l+"px;left:"+(k*-l)+"px;";m.setAttribute("data-index",k);this._move(k,k<j?-l:k>j?l:0,0)}this._container.css("width",l*g)},_move:function(j,l,k,i){var g=this._slidePos,h=this._items;if(g[j]===l||!h[j]){return}this._translate(j,l,k);g[j]=l;i&&h[j].clientLeft},_translate:function(h,k,j){var g=this._items[h],i=g&&g.style;if(!i){return false}i.cssText+=f+"transition-duration:"+j+"ms;"+f+"transform: translate("+k+"px, 0)"+b+";"},_circle:function(i,h){var g;h=h||this._items;g=h.length;return(i%g+g)%h.length},_tansitionEnd:function(g){if(~~g.target.getAttribute("data-index")!==this.index){return}this.trigger("slideend",this.index)},_slide:function(n,l,g,h,k,j){var i=this,m;m=i._circle(n-g*l);if(!j.loop){g=Math.abs(n-m)/(n-m)}this._move(m,-g*h,0,true);this._move(n,h*g,k);this._move(m,0,k);this.index=m;return this.trigger("slide",m,n)},slideTo:function(m,k){if(this.index===m||this.index===this._circle(m)){return this}var j=this._options,h=this.index,l=Math.abs(h-m),g=l/(h-m),i=this.width;k=k||j.speed;return this._slide(h,l,g,i,k,j)},prev:function(){if(this._options.loop||this.index>0){this.slideTo(this.index-1)}return this},next:function(){if(this._options.loop||this.index+1<this.length){this.slideTo(this.index+1)}return this},getIndex:function(){return this.index},destroy:function(){this._container.off(this.eventNs);c(window).off("ortchange"+this.eventNs);return this.$super("destroy")}})})(gmu,gmu.$);
/*!Widget slider/$lazyloadimg.js*/
(function(a){a.Slider.template.item='<div class="ui-slider-item"><a href="<%= href %>"><img lazyload="<%= pic %>" alt="" /></a><% if( title ) { %><p><%= title %></p><% } %></div>';a.Slider.register("lazyloadimg",{_init:function(){this.on("ready slide",this._loadItems)},_loadItems:function(){var g=this._options,c=g.loop,f=g.viewNum||1,d=this.index,e,b;for(e=d-f,b=d+2*f;e<b;e++){this.loadImage(c?this._circle(e):e)}},loadImage:function(c){var d=this._items[c],b;if(!d||!(b=a.staticCall(d,"find","img[lazyload]"),b.length)){return this}b.each(function(){this.src=this.getAttribute("lazyload");this.removeAttribute("lazyload")})}})})(gmu);
/*!Widget slider/$autoplay.js*/
(function(b,a){a.extend(true,b.Slider,{options:{autoPlay:true,interval:4000}});b.Slider.register("autoplay",{_init:function(){var c=this;c.on("slideend ready",c.resume).on("destory",c.stop);c.getEl().on("touchstart"+c.eventNs,a.proxy(c.stop,c)).on("touchend"+c.eventNs,a.proxy(c.resume,c))},resume:function(){var d=this,c=d._options;if(c.autoPlay&&!d._timer){d._timer=setTimeout(function(){d.slideTo(d.index+1);d._timer=null},c.interval)}return d},stop:function(){var c=this;if(c._timer){clearTimeout(c._timer);c._timer=null}return c}})})(gmu,gmu.$);
/*!Widget slider/$multiview.js*/
(function(b,a,c){a.extend(b.Slider.options,{viewNum:2,travelSize:2});b.Slider.register("multiview",{_arrange:function(d,g){var h=this._items,m=this._options.viewNum,k=g%m,e=0,j=this.perWidth=Math.ceil(d/m),l,f;this._slidePos=new Array(h.length);for(f=h.length;e<f;e++){l=h[e];l.style.cssText+="width:"+j+"px;left:"+(e*-j)+"px;";l.setAttribute("data-index",e);e%m===k&&this._move(e,e<g?-d:e>g?d:0,0,Math.min(m,f-e))}this._container.css("width",j*f)},_move:function(f,l,k,e,j){var d=this.perWidth,h=this._options,g=0;j=j||h.viewNum;for(;g<j;g++){this.origin(h.loop?this._circle(f+g):f+g,l+g*d,k,e)}},_slide:function(m,n,g,e,f,d,i){var k=this,o=d.viewNum,j=this._items.length,h,l;d.loop||(n=Math.min(n,g>0?m:j-o-m));l=k._circle(m-g*n);d.loop||(g=Math.abs(m-l)/(m-l));n%=j;if(j-n<o){n=j-n;g=-1*g}h=Math.max(0,o-n);if(!i){this._move(l,-g*this.perWidth*Math.min(n,o),0,true);this._move(m+h*g,h*g*this.perWidth,0,true)}this._move(m+h*g,e*g,f);this._move(l,0,f);this.index=l;return this.trigger("slide",l,m)},prev:function(){var e=this._options,d=e.travelSize;if(e.loop||(this.index>0,d=Math.min(this.index,d))){this.slideTo(this.index-d)}return this},next:function(){var f=this._options,e=f.travelSize,d=f.viewNum;if(f.loop||(this.index+d<this.length&&(e=Math.min(this.length-1-this.index,e)))){this.slideTo(this.index+e)}return this}})})(gmu,gmu.$);
/*!Widget slider/$touch.js*/
(function(c,b,e){var d={touchstart:"_onStart",touchmove:"_onMove",touchend:"_onEnd",touchcancel:"_onEnd",click:"_onClick"},h,g,f,a;b.extend(c.Slider.options,{stopPropagation:false,disableScroll:false});c.Slider.register("touch",{_init:function(){var j=this,i=j.getEl();j._handler=function(k){j._options.stopPropagation&&k.stopPropagation();return d[k.type]&&j[d[k.type]].call(j,k)};j.on("ready",function(){i.on("touchstart"+j.eventNs,j._handler);j._container.on("click"+j.eventNs,j._handler)})},_onClick:function(){return !a},_onStart:function(m){if(m.touches.length>1){return false}var l=this,n=m.touches[0],k=l._options,i=l.eventNs,j;g={x:n.pageX,y:n.pageY,time:+new Date()};f={};a=false;h=e;j=k.viewNum||1;l._move(k.loop?l._circle(l.index-j):l.index-j,-l.width,0,true);l._move(k.loop?l._circle(l.index+j):l.index+j,l.width,0,true);l.$el.on("touchmove"+i+" touchend"+i+" touchcancel"+i,l._handler)},_onMove:function(o){if(o.touches.length>1||o.scale&&o.scale!==1){return false}var j=this._options,r=j.viewNum||1,k=o.touches[0],m=this.index,l,n,p,q;j.disableScroll&&o.preventDefault();f.x=k.pageX-g.x;f.y=k.pageY-g.y;if(typeof h==="undefined"){h=Math.abs(f.x)<Math.abs(f.y)}if(!h){o.preventDefault();if(!j.loop){f.x/=(!m&&f.x>0||m===this._items.length-1&&f.x<0)?(Math.abs(f.x)/this.width+1):1}q=this._slidePos;for(l=m-r,n=m+2*r;l<n;l++){p=j.loop?this._circle(l):l;this._translate(p,f.x+q[p],0)}a=true}},_onEnd:function(){this.$el.off("touchmove"+this.eventNs+" touchend"+this.eventNs+" touchcancel"+this.eventNs,this._handler);if(!a){return}var s=this,j=s._options,w=j.viewNum||1,r=s.index,v=s._slidePos,o=+new Date()-g.time,n=Math.abs(f.x),k=!j.loop&&(!r&&f.x>0||r===v.length-w&&f.x<0),m=f.x>0?1:-1,l,u,p,q,t;if(o<250){l=n/o;u=Math.min(Math.round(l*w*1.2),w)}else{u=Math.round(n/(s.perWidth||s.width))}if(u&&!k){s._slide(r,u,m,s.width,j.speed,j,true);if(w>1&&o>=250&&Math.ceil(n/s.perWidth)!==u){s.index<r?s._move(s.index-1,-s.perWidth,j.speed):s._move(s.index+w,s.width,j.speed)}}else{for(p=r-w,q=r+2*w;p<q;p++){t=j.loop?s._circle(p):p;s._translate(t,v[t],j.speed)}}}})})(gmu,gmu.$);
/*!Widget slider/dots.js*/
(function(b,a,c){a.extend(true,b.Slider,{template:{dots:'<p class="ui-slider-dots"><%= new Array( len + 1 ).join("<b></b>") %></p>'},options:{dots:true,selector:{dots:".ui-slider-dots"}}});b.Slider.option("dots",true,function(){var d=function(g,f){var e=this._dots;typeof f==="undefined"||b.staticCall(e[f%this.length],"removeClass","ui-state-active");b.staticCall(e[g%this.length],"addClass","ui-state-active")};this.on("done.dom",function(h,f,g){var i=f.find(g.selector.dots);if(!i.length){i=this.tpl2html("dots",{len:this.length});i=a(i).appendTo(f)}this._dots=i.children().toArray()});this.on("slide",function(f,h,g){d.call(this,h,g)});this.on("ready",function(){d.call(this,this.index)})})})(gmu,gmu.$);
/*!Widget dialog/dialog.js*/
(function(c,b,d){var a={close:'<a class="ui-dialog-close" title="\u5173\u95ed"><span class="ui-icon ui-icon-delete"></span></a>',mask:'<div class="ui-mask"></div>',title:'<div class="ui-dialog-title"><h3><%=title%></h3></div>',wrap:'<div class="ui-dialog"><div class="ui-dialog-content"></div><% if(btns){ %><div class="ui-dialog-btns"><% for(var i=0, length=btns.length; i<length; i++){var item = btns[i]; %><a class="ui-btn ui-btn-<%=item.index%>" data-key="<%=item.key%>"><%=item.text%></a><% } %></div><% } %></div> '};c.define("Dialog",{options:{autoOpen:true,buttons:null,closeBtn:true,mask:true,width:300,height:"auto",title:null,content:null,scrollMove:true,container:null,maskClick:null,position:null},getWrap:function(){return this._options._wrap},_init:function(){var j=this,h=j._options,g,f=0,e=b.proxy(j._eventHandler,j),k={};j.on("ready",function(){h._container=b(h.container||document.body);(h._cIsBody=h._container.is("body"))||h._container.addClass("ui-dialog-container");k.btns=g=[];h.buttons&&b.each(h.buttons,function(i){g.push({index:++f,text:i,key:i})});h._mask=h.mask?b(a.mask).appendTo(h._container):null;h._wrap=b(b.parseTpl(a.wrap,k)).appendTo(h._container);h._content=b(".ui-dialog-content",h._wrap);h._title=b(a.title);h._close=h.closeBtn&&b(a.close).highlight("ui-dialog-close-hover");j.$el=j.$el||h._content;j.title(h.title);j.content(h.content);g.length&&b(".ui-dialog-btns .ui-btn",h._wrap).highlight("ui-state-hover");h._wrap.css({width:h.width,height:h.height});b(window).on("ortchange",e);h._wrap.on("click",e);h._mask&&h._mask.on("click",e);h.autoOpen&&j.open()})},_create:function(){var e=this._options;if(this._options.setup){e.content=e.content||this.$el.show();e.title=e.title||this.$el.attr("title")}},_eventHandler:function(k){var j=this,f,h,i=j._options,g;switch(k.type){case"ortchange":this.refresh();break;case"touchmove":i.scrollMove&&k.preventDefault();break;case"click":if(i._mask&&(b.contains(i._mask[0],k.target)||i._mask[0]===k.target)){return j.trigger("maskClick")}h=i._wrap.get(0);if((f=b(k.target).closest(".ui-dialog-close",h))&&f.length){j.close()}else{if((f=b(k.target).closest(".ui-dialog-btns .ui-btn",h))&&f.length){g=i.buttons[f.attr("data-key")];g&&g.apply(j,arguments)}}}},_calculate:function(){var k=this,j=k._options,i,l,f=document.body,h={},e=j._cIsBody,g=Math.round;j.mask&&(h.mask=e?{width:"100%",height:Math.max(f.scrollHeight,f.clientHeight)-1}:{width:"100%",height:"100%"});i=j._wrap.offset();l=b(window);h.wrap={left:"50%",marginLeft:-g(i.width/2)+"px",top:e?g(l.height()/2)+window.pageYOffset:"50%",marginTop:-g(i.height/2)+"px"};return h},refresh:function(){var g=this,f=g._options,e,h;if(f._isOpen){h=function(){e=g._calculate();e.mask&&f._mask.css(e.mask);f._wrap.css(e.wrap)};if(b.os.ios&&document.activeElement&&/input|textarea|select/i.test(document.activeElement.tagName)){document.body.scrollLeft=0;b.later(h,200)}else{h()}}return g},open:function(e,g){var f=this._options;f._isOpen=true;f._wrap.css("display","block");f._mask&&f._mask.css("display","block");e!==d&&this.position?this.position(e,g):this.refresh();b(document).on("touchmove",b.proxy(this._eventHandler,this));return this.trigger("open")},close:function(){var f,e=this._options;f=b.Event("beforeClose");this.trigger(f);if(f.defaultPrevented){return this}e._isOpen=false;e._wrap.css("display","none");e._mask&&e._mask.css("display","none");b(document).off("touchmove",this._eventHandler);return this.trigger("close")},title:function(f){var e=this._options,g=f!==d;if(g){f=(e.title=f)?"<h3>"+f+"</h3>":f;e._title.html(f)[f?"prependTo":"remove"](e._wrap);e._close&&e._close.prependTo(e.title?e._title:e._wrap)}return g?this:e.title},content:function(f){var e=this._options,g=f!==d;g&&e._content.empty().append(e.content=f);return g?this:e.content},destroy:function(){var e=this._options,f=this._eventHandler;b(window).off("ortchange",f);b(document).off("touchmove",f);e._wrap.off("click",f).remove();e._mask&&e._mask.off("click",f).remove();e._close&&e._close.highlight();return this.$super("destroy")}})})(gmu,gmu.$);
/*!Widget dialog/$position.js*/
(function(b,a,c){b.Dialog.register("position",{_init:function(){var d=this._options;d.position=d.position||{of:d.container||window,at:"center",my:"center"}},position:function(d,f){var e=this._options;if(!a.isPlainObject(d)){e.position.at="left"+(d>0?"+"+d:d)+" top"+(f>0?"+"+f:f)}else{a.extend(e.position,d)}return this.refresh()},_calculate:function(){var g=this,f=g._options,d=f.position,e=g.origin();f._wrap.position(a.extend(d,{using:function(h){e.wrap=h}}));return e}})})(gmu,gmu.$);
